{# templates/circuitshow.html.twig #}

{% set active = 'circuit' %}
{% extends "baselayout.html.twig" %}
{% block title %}{{ parent() }} - Circuit{% endblock %}

{% block body %}
	<div class="row">
	<div class="col-lg-3">
	<a href="/circuit" class="btn btn-default" ><< Retour à la liste des circuits</a><br>
	</div>
	</div>
	<div class="row">
	<div class="col-lg-12">
	<h1 class="text-left page-header">{{ circuit.description }}</h1>
	</div>
	</div>
	<div class="row">
		<div class="col-lg-8">
			{% if img is not null %}
				<img class="resize" src="/images/{{ img }}" alt="{{ circuit.description }}">
			{% endif %}
		</div>
		<div class="col-lg-4">
			<h2>Détails</h2>		
			<p class="text-justify">	
			<strong>Description :</strong> {{ circuit.description }}<br>
			Départ de {{ circuit.villeDepart }} pour {{ circuit.dureeCircuit }} jours
			de voyage en {{ circuit.paysDepart }}, pour terminer à
			{{ circuit.villeArrivee }}.
			</p>

		
			<h3>Liste des étapes</h3>
			<div class="">
			<table class="table table-striped table-condensed">
				<thead>
					<tr>
						<th>Nom de l'étape&nbsp;</th>
						<th>Nombre de jours&nbsp;</th>
					</tr>
				</thead>
				{% for etape in circuit.etapes %}
					<tr>
						<td>{{ etape.villeEtape }}</td>
						<td>{{ etape.nombreJours }}</td>
					</tr>
				{% endfor %}
			</table>
			</div>
		</div>	
</div>
	<div class="row">
		<div class="col-lg-8">
		{% if circuit.programmations is not empty %}
		<h2 class="text-center">Programmations de ce circuit</h2>
		<table class="table table-bordered table-condensed text-center">
				<tr>
					<th>Date de départ</th>
					{% for programmation in circuit.programmations %}
					<td>{{ programmation.dateDepart|date('d/m/Y') }}</td>
					{% endfor %}
				</tr>
				<tr>
					<th>Nombre de personnes</th>
					{% for programmation in circuit.programmations %}
					<td>{{ programmation.nombrePersonnes }}</td>
					{% endfor %}
				</tr>
				<tr>
					<th>Prix</th>
					{% for programmation in circuit.programmations %}
					<td>{{ programmation.prix }}€</td>
					{% endfor %}
				</tr>
		</table>
		{% else %}
		<p>Désolé : pas encore de programmations pour ce circuit.</p>
		{% endif %}
		</div>
</div>
{% endblock %} {# body #}

